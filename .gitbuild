#
# Originally by Reed then myself 
#
BUILD=$HOME/myGIT/app
# -----------------------------------------------------------
# gitr - making ELEASE branch - e.g. gitr 1.10.0
# -----------------------------------------------------------
function gitr() {
   for i in nyt5-app-article nyt5-app-interactive nyt5-app-shell nyt5-foundation nyt5-app-blogs
	do
	   cd $BUILD/$i
	   echo "make remote and local release branch $i <===> release/$1 ......"
	   git checkout develop;
	   git pull;
	   git checkout -b release/$1
	   git push -u origin release/$1
	   echo 
	done
 
   for j in nyt5-foundation nyt5-shared
        do
	   cd $BUILD/$j
	   k=`echo $j |cut -d"-" -f2`
		for m in article interactive shell blogs
			do 
			   echo "make remote and local release branch bundle $k <===> release/$m/$1 ......"
			   git checkout develop
			   git pull
	 		   git checkout -b release/$m/$1
			   git push -u origin release/$m/$1
			   echo
			done
        done
}
# -----------------------------------------------------------
# gith - making HOTFIX branch  - e.g. gith article 1.10.1
# -----------------------------------------------------------
function gith() {
  cd $BUILD/nyt5-shared;
  echo "making remote and local HOTFIX branch for nyt5-shared <===> release/$1/$2 ......"
  git checkout master;
  git pull;
  git checkout -b release/$1/$2;
  git push -u origin release/$1/$2;

  cd $BUILD/nyt5-foundation;
  echo "making remote and local HOTFIX branch for nyt5-foundation <===> release/$1/$2 ......"
  git checkout master;
  git pull;
  git checkout -b release/$1/$2;
  git push -u origin release/$1/$2;
  
  cd $BUILD/nyt5-app-$1;
  echo "making remote and local HOTFIX branch for nyt5-app-$1 <===> release/$2 ......"
  git checkout master;
  git pull;
  git checkout -b release/$2;
  git push -u origin release/$2;
}
